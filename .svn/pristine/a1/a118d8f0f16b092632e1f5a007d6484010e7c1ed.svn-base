HTTP: 
Hypertext Transfer Protocol 
CS 241 
Nov. 15, 2013 
 
System calls for sockets 
Server Socket Client Socket 
HTTP Request 
• Sent from a client (eg: web browser) to a 
server. 
 
GET /index.html HTTP/1.1 
Host: linux4.ews.illinois.edu 
User-Agent: Mozilla/5.0 (Windows NT[...] 
Accept-Language: en-US,en;q=0.5 
Accept-Encoding: gzip, deflate 
Connection: keep-alive 
 
Network Frame 
• In networking, you must identify when a 
packet ends. 
– Network frame: The region of data that consists 
of one request for a given protocol. 
 
• In HTTP: 
– Header: Always ends with \r\n\r\n 
– Body: If a body exists, the header will always 
specify a Content-Length field that specifies the 
number of bytes in the body 
HTTP Response 
• Sent in response to an HTTP request. 
 
GET /cs241/ HTTP/1.1 
Content-Length: 23774 
Content-Type: text/html 
Server: Microsoft-IIS/7.5 
Set-Cookie: ASPSESSIONIDAEEESRAB=PN[...] 
X—Powered-By: ASP.NET 
Date: Fri, 15 Nov 2013[...] 
Connection: close 
 
[23.22 KB of HTML] 
Optimizing HTTP 
• Consider loading a website: 
– You request a single HTML page 
– The HTML page contains 5 images 
– (Since the HTML page contains the 5 images, you 
don’t know about them before you receive the 
images.) 
 
• In terms of RTTs (assume it takes no time to 
transmit the actual data), how long would it take 
to completely load the webpage given: 
– You had to make a new connection for every request,  
       and 
– You can only have one active connection at any time 
 
 
Optimizing HTTP 
 
 
Optimizing HTTP 
• In HTTP, the Connection header requests the 
server to keep the TCP connection active. 
– Connection: keep-alive 
– Connection: close 
 
• Using Connection: keep-alive, how many 
RTTs would it take to load the same website? 
 
 
Optimizing HTTP 
 
 
Optimizing HTTP 
• Nearly all modern browsers make at least 2 
connections to every web server.  This allows 
for requests to be made in parallel. 
 
• Using Connection: keep-alive and three 
(3) parallel connections, how many RTTs 
would it take to load the same website? 
 
 
Optimizing HTTP 
 
 
Optimizing HTTP 
• In HTTP/1.1, a new feature called HTTP 
Pipelining allows multiple requests to be 
made in one header. 
– Request all five images at once! 
 
• Using Connection: keep-alive, HTTP 
pipelining, and only one connection, how 
many RTTs would it take to load the same 
website? 
 
 
Optimizing HTTP 
 
 
