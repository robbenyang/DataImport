1 Inductive Proofs for DFAs
1.1 Properties about DFAs
Deterministic Behavior
Proposition 1. For a DFA M = (Q,Î£, Î´, q0, F ), and any q âˆˆ Q, and w âˆˆ Î£âˆ—, |Î´Ë†M (q, w)| = 1.
Proof. Proof is by induction on |w|. Thus, Si is taken to be
For every q âˆˆ Q, and w âˆˆ Î£i, |Î´Ë†M (q, w)| = 1.
Base Case: We need to prove the case when w âˆˆ Î£0. Thus, w = . By definition wâˆ’â†’M , q wâˆ’â†’M qâ€²
if and only qâ€² = q. Thus, |Î´Ë†M (q, w)| = |{q}| = 1.
Ind. Hyp.: Suppose for every q âˆˆ Q, and w âˆˆ Î£âˆ— such that |w| < i, |Î´Ë†M (q, w)| = 1.
Ind. Step: Consider (without loss of generality) w = a1a2 Â· Â· Â· ai, such that ai âˆˆ Î£. Take u =
a1 Â· Â· Â· aiâˆ’1
q
wâˆ’â†’M qâ€² iff there are r0, r1, . . . , ri such that r0 = q, ri = qâ€², and Î´(rj , aj+1) = rj+1
iff there is riâˆ’1 such that q
uâˆ’â†’M riâˆ’1 and Î´(riâˆ’1, ai) = qâ€²
Now, by induction hypothesis, since |Î´Ë†M (q, u)| = 1, there is a unique riâˆ’1 such that q uâˆ’â†’M
riâˆ’1. Also, since from any state riâˆ’1 on symbol ai the next state is uniquely determined,
|Î´Ë†M (q, w)| = 1.
DFA Computation
Proposition 2. Let M = (Q,Î£, Î´, q0, F ) be a DFA. For any q1, q2 âˆˆ Q, u, v âˆˆ Î£âˆ—, q1 uvâˆ’â†’M q2 iff
there is q âˆˆ Q such that q1 uâˆ’â†’M q and q vâˆ’â†’M q2.
Proof. Let u = a1a2 . . . ai and v = ai+1 Â· Â· Â· ai+k. Observe that,
q1
uvâˆ’â†’M q2 iff there are r0, r1, . . . , ri+k such that r0 = q1, ri+k = q2, and Î´(rj , aj+1) = rj+1
iff there is ri (= q of the proposition) such that q1
uâˆ’â†’M ri and ri vâˆ’â†’M q2
Conventions in Inductive Proofs
â€œWe will prove by induction on |v|â€ is a short-hand for â€œWe will prove the proposition by induction.
Take Si to be statement of the proposition restricted to strings v where |v| = i.â€
1
1.2 Proving Correctness of DFA Constructions
Proving Correctness of DFAs
Problem
Show that DFA M recognizes language L.
That is, we need to show that for all w, w âˆˆ L(M) iff w âˆˆ L. This is often carried out by
induction on |w|.
Example I
q0 q1
0 0
1
1
Figure 1: Transition Diagram of M1
Proposition 3. L(M1) = {w âˆˆ {0, 1}âˆ— | w has an odd number of 1s}
Proof. We will prove this by induction on |w|. That is, let Si be
For all w âˆˆ {0, 1}i. M1 accepts w iff w has an odd number of 1s
Observe that M1 accepts w iff q0
wâˆ’â†’M1 q1. So we could rewrite Si as
For all w âˆˆ {0, 1}i. q0 wâˆ’â†’M1 q1 iff w has an odd number of 1s
Base Case: When w = , w has an even number of 1s. Further, q0
âˆ’â†’M1 q0, and so M1 does not
accept w.
Ind. Hyp.: Assume that for all w of length < n, q0
wâˆ’â†’M1 q1 iff w has an odd number of 1s.
Ind. Step: Consider w of length n; without loss of generality, w is either 0u or 1u for some string
u of length iâˆ’ 1.
If w = 0u then, w has an odd number of 1s iff u has an odd number of 1s, iff (by ind. hyp.)
q0
uâˆ’â†’M1 q1 iff q0 w=0uâˆ’â†’M1 q1 (since Î´(q0, 0) = q0).
On the other hand, if w = 1u then, w has an odd number of 1s iff u has an even number
of 1s. Now q0
w=1uâˆ’â†’M1 q1 iff q1 uâˆ’â†’M1 q1. Does M1 accept u that has an even number of
0s from state q1? Unfortunately, we cannot use the induction hypothesis in this case, as the
hypothesis does not say anything about what strings u are accepted when the automaton is
started from state q1; it only gives the behavior on strings when M1 is started in the initial
state q0. We need to strengthen the hypothesis to make the proof work!! The strengthening
will explicitly tell us the behavior of the machine on strings when starting from states other
than the initial state.
2
New (correct) induction proof: Let Si be
âˆ€w âˆˆ {0, 1}i. q0 wâˆ’â†’M1 q1 iff w has an odd number of 1s
and q1
wâˆ’â†’M1 q1 iff w has an even number of 1s
We will prove this sequence of statements by induction.
Base Case: When w = , w has an even number of 1s. Further, q0
âˆ’â†’M1 q0 and q1 wâˆ’â†’M1 q1,
and so M1 does not accept w from state q0, but accepts w from state q1. This establishes the
base case.
Ind. Hyp.: Assume that for all w of length < n, q0
wâˆ’â†’M1 q1 iff w has an odd number of 1s and
q1
wâˆ’â†’M1 q1 iff w has an even number of 1s.
Ind. Step: Consider w of length n; without loss of generality, w is either 0u or 1u for some string
u of length iâˆ’ 1.
If w = 0u then q0
0uâˆ’â†’M1 q1 iff q0 uâˆ’â†’M1 q1 (because Î´(q0, 0) = q0) iff u has an odd number of
1s (by ind. hyp.) iff w = 0u has an odd number of 1s. Similarly, q1
0uâˆ’â†’M1 q1 iff q1 uâˆ’â†’M1 q1
(because Î´(q1, 0) = q1) iff u has an even number of 1s iff w = 0u has an even number of 1s.
On the other hand, if w = 1u then q0
w=1uâˆ’â†’M1 q1 iff q1 uâˆ’â†’M1 q1 (since Î´(q0, 1) = q1) iff
(by ind. hyp.) u has an even number of 1s iff w = 1u has an odd number of 1s. Similarly,
q1
w=1uâˆ’â†’M1 q1 iff q0 uâˆ’â†’M1 q1 (since Î´(q1, 1) = q0) iff (by ind. hyp.) u has an odd number of
1s iff w has an even number of 1s.
Remark
The above induction proof can be made to work without strengthening if in the first induction proof
step, we considered w = ua, for a âˆˆ {0, 1}, instead of w = au as we did. However, the fact that
the induction proof works without strengthening here is a very special case, and does not hold in
general for DFAs.
Example II
q0 q1
q2q3
1
1
1
1
0 0 0 0
Figure 2: Transition Diagram of M2
Proposition 4. L(M2) = {w âˆˆ {0, 1}âˆ— | w has an odd number of 1s and odd number of 0s}
3
Proof. We will once again prove the proposition by induction on |w|. The straightforward proof
would suggest that we take Si to be
For any w âˆˆ {0, 1}i. M2 accepts w iff w has an odd number of 1s and 0s
Since M2 accepts w iff q0
wâˆ’â†’M2 q2, we could rewrite the condition as â€œq0 wâˆ’â†’M2 q2 iff w has an odd
number of 1s and 0sâ€. The induction proof will unfortunately not go through! To see this, consider
the induction step, when w = 0u. Now, q0
wâˆ’â†’M2 q iff q3 uâˆ’â†’M2 q, because M2 goes to state q3
(from q0) on reading 0. Since w and u have the same parity for the number of 1s, but opposite
parity for the number of 0s, w must be accepted (i.e., reach state q2) iff u is accepted from q3 when
u has an odd number of 1s and even number of 0s. But is that the case? The induction hypothesis
says nothing about strings accepted from state q3, and so the induction step cannot be established.
This is typical of many induction proofs. Again, we must strengthen the proposition in order to
construct a proof. The proposition must not only characterize the strings that are accepted from
the initial state q0, but also those that are accepted from states q1, q2, and q3.
We will show by induction on w that
(a) q0
wâˆ’â†’M2 q2 iff w has an odd number of 0s and odd number of 1s,
(b) q1
wâˆ’â†’M2 q2 iff w has odd number of 0s and even number of 1s,
(c) q2
wâˆ’â†’M2 q2 iff w has an even number of 0s and even number of 1s, and
(d) q3
wâˆ’â†’M2 q2 iff w has even number of 0s and odd number of 1s.
Thus in the our new induction proof, statement Si says that conditions (a),(b),(c), and (d) hold
for all strings of length i.
Base Case: When |w| = 0, w = . Observe that w has an even number of 0s and 1s, and q âˆ’â†’M2 q
for any state q. String  is only accepted from state q2, and thus statements (a),(b),(c), and
(d) hold in the base case.
Ind. Hyp.: Suppose (a),(b),(c),(d) all hold for any string w of length < n.
Ind. Step: Consider w of length n. Without loss of generality, w is of the form au, where a âˆˆ {0, 1}
and u âˆˆ {0, 1}nâˆ’1.
â€¢ Case q = q0, a = 0: q0 0uâˆ’â†’M2 q2 iff q3 uâˆ’â†’M2 q2 iff u has even number of 0s and odd
number of 1s (by ind. hyp. (d)) iff w has odd number of 0s and odd number of 1s.
â€¢ Case q = q0, a = 1: q0 1uâˆ’â†’M2 q2 iff q1 uâˆ’â†’M2 q2 iff u has odd number of 0s and even
number of 1s (by ind. hyp. (b)) iff w has odd number of 0s and odd number of 1s
â€¢ Case q = q1, a = 0: q1 0uâˆ’â†’M2 q2 iff q2 uâˆ’â†’M2 q2 iff u has even number of 0s and even
number of 1s (by ind. hyp. (c)) iff w has odd number of 0s and even number of 1s
â€¢ . . . And so on for the other cases of q = q1 and a = 1, q = q2 and a = 0, q = q2 and
a = 1, q = q3 and a = 0, and finally q = q3 and a = 1.
4
Proving Correctness of a DFA
Proof Template
Given a DFA M having n states {q0, q1, . . . qnâˆ’1} with initial state q0, and final states F , to prove
that L(M) = L, we do the following.
1. Come up with languages L0, L1, . . . Lnâˆ’1 such that L0 = L
2. Prove by induction on |w|, Î´Ë†M (qi, w) âˆ© F 6= âˆ… if and only if w âˆˆ Li
2 Proving DFA Lower Bounds
Even length strings with at least 2 as
Problem
Design an automaton for the language Lâ‰¥2aeven = {w âˆˆ {a, b}âˆ— | w has even length and contains at
least 2 as}.
Solution
What do you need to remember? We need to remember the numbers of as we have seen (either
0, 1, or â‰¥ 2), and the parity (odd or even) of the number of symbols we have seen. So the states
will be ã€ˆ0, eã€‰ (no as seen, and even number of total symbols), ã€ˆ0, oã€‰ (no as seen and total symbols
seen is odd), ã€ˆ1, eã€‰ (one a seen and even number of symbols), ã€ˆ1, oã€‰ (one a seen and odd number of
symbols), ã€ˆ2, eã€‰ (at least 2 as seen and even number of total symbols), and ã€ˆ2, oã€‰ (at least 2 as seen
and an odd number of symbols). The DFA is as follows.
ã€ˆ0, eã€‰
ã€ˆ0, oã€‰
ã€ˆ1, eã€‰
ã€ˆ1, oã€‰
ã€ˆ2, eã€‰
ã€ˆ2, oã€‰
b b a
a
b b a
a
a, b a, b
Figure 3: DFA recognizing Lâ‰¥2aeven
Tightness of DFA construction
5
Proposition 5. Any DFA recognizing Lâ‰¥2aeven has at least 6 states.
Proof Idea
We will identify 6 strings w1, w2, w3, w4, w5, w6 that must take any DFA recognizing L
â‰¥2a
even to dif-
ferent states.
â€¢ How do we find such strings? Based on our intuition of what the DFA must remember in
order to solve the problem.
â€¢ How do we prove that they must go to different states? We will argue that if some pair of
strings (say wi and wj) go to the same state in some DFA M , then M cannot recognize the
language Lâ‰¥2aeven. The crux of the argument is as follows. Suppose M ends up in the same state
(say q) after reading wi and wj . Since the DFA behavior only depends on the current state
(and not on how the current state was reached), M will give the same answer (either accept
or reject) on strings wiu and wju, no matter what u is. Now, if we find a string u such that
wiu âˆˆ Lâ‰¥2aeven and wju 6âˆˆ Lâ‰¥2aeven then M gives an answer on wiu and wju (either both accept or
both reject) that is inconsistent with what the problem Lâ‰¥2aeven requires it to do.
We are now ready to formally prove the proposition based on the above idea.
Proof. Consider the strings w1 = , w2 = b, w3 = a, w4 = ab, w5 = aa, w6 = aab. Our intuition
tells us that a DFA recognizing Lâ‰¥2aeven must remember different things for each of these strings: for
w1 the fact that we have seen no as and an even number of symbols; for w2 the fact that we have
seen no as but an odd number of symbols; for w3 the fact that we have seen an a and an odd
number of symbols; for w4 the fact that we have seen an a and an even number of symbols; for w5
the fact that we have seen at least 2 as and an even number of symbols; for w6 the fact that we
have seen at least 2 as and an odd number of symbols.
Suppose (for contradiction) the proposition does not hold. That is, there is a DFA M with < 6
states that recognizes Lâ‰¥2aeven. Let the initial state of M be (say) q0. Now, by pigeon hole principle,
there must be two strings wi, wj âˆˆ {w1, w2, w3, w4, w5, w6} such that M , starting in state q0, goes
to the same state on both wi and wj , i.e., for some q, Î´Ë†M (q0, wi) = {q} = Î´Ë†M (q0, wj). We will show
that then M cannot recognize Lâ‰¥2aeven, contradicting our assumption that M does recognize Lâ‰¥2aeven and
thus proving our proposition. How does one prove this? Observe that if Î´Ë†M (q0, wi) = Î´Ë†M (q0, wj)
then no matter what u is, Î´Ë†M (q0, wiu) = Î´Ë†M (q0, wju), which means that either M accepts both wiu
and wju, or rejects both of them. Now if we find a u such that wiu âˆˆ Lâ‰¥2aeven and wju 6âˆˆ Lâ‰¥2aeven then
it means that M cannot recognize Lâ‰¥2aeven. We will identify u based on what wi and wj are.
For every pair of strings (among w1, w2, w3, w4, w5, w6) we need to find a â€œwitnessâ€ string u
with the above properties. That gives us 15 cases to consider, but we will combine many of the
cases together.
â€¢ Case wi = w5 and wj âˆˆ {w1, w2, w3, w4, w6}. Suppose Î´Ë†M (q0, w5) = Î´Ë†M (q0, wj). Then for
all u, either w5u and wju are both accepted by M or neither one is. Take u = . Now
w5u = w5 âˆˆ Lâ‰¥2aeven, whereas wju 6âˆˆ Lâ‰¥2aeven (when wj âˆˆ {w1, w2, w3, w4, w6}). Thus, M cannot
recognize Lâ‰¥2aeven giving us the desired contradiction.
â€¢ Case wi = w1, and wj âˆˆ {w2, w4, w6}. Once again, if Î´Ë†M (q0, w1) = Î´Ë†M (q0, wj) then for every u,
M either accepts both w1u and wju or neither one. If we take u = aa, then w1u = aa âˆˆ Lâ‰¥2aeven,
but wju 6âˆˆ Lâ‰¥2aeven when wj âˆˆ {w2, w4, w6}, giving us the desired contradiction.
6
â€¢ Case wi = w3 and wj âˆˆ {w2, w4, w6}. Similar to the previous case we can take u = aa.
â€¢ Case wi = w1 and wj = w3. Take u = ab.
â€¢ Case wi = w2 and wj = w4. Take u = a.
â€¢ Case wi = w2 and wj = w6. Take u = b.
â€¢ Case wi = w4 and wj = w6. Take u = b.
A One k-positions from end
Problem
Design an automaton for the language Lk = {w | kth character from end of w is 1}
Solution
What do you need to remember? The last k characters seen so far!
Formally, Mk = (Q, {0, 1}, Î´, q0, F )
â€¢ States = Q = {ã€ˆwã€‰ | w âˆˆ {0, 1}k}
â€¢ Î´(ã€ˆwã€‰, b) = ã€ˆw2w3 . . . wkbã€‰ where w = w1w2 . . . wk
â€¢ q0 = ã€ˆ0kã€‰
â€¢ F = {ã€ˆ1w2w3 . . . wkã€‰ | wi âˆˆ {0, 1}}
Lower Bound on DFA size
Proposition 6. Any DFA recognizing Lk has at least 2
k states.
Proof. Let M , with initial state q0, recognize Lk and assume (for contradiction) that M has < 2
k
states.
â€¢ Number of strings of length k = 2k
â€¢ There must be two distinct string w0 and w1 of length k such that for some state q, q0 w0âˆ’â†’M q
and q0
w1âˆ’â†’M q.
Let i be the first position where w0 and w1 differ. Without loss of generality assume that w0
has 0 in the ith position and w1 has 1.
w00
iâˆ’1 = . . .
kï¸· ï¸¸ï¸¸ ï¸·
0 . . . 0iâˆ’1
w10
iâˆ’1 = . . .ï¸¸ï¸·ï¸·ï¸¸
iâˆ’1
1 . . .ï¸¸ï¸·ï¸·ï¸¸
kâˆ’i
0iâˆ’1
7
w00
iâˆ’1 6âˆˆ Lk and w10iâˆ’1 âˆˆ Lk. Thus, M cannot accept both w00iâˆ’1 and w10iâˆ’1.
So far, w00
iâˆ’1 6âˆˆ Ln, w10iâˆ’1 âˆˆ Ln, q0 w0âˆ’â†’M q, and q0 w1âˆ’â†’M q.
q0
w00iâˆ’1âˆ’â†’ M q1 iff q 0
iâˆ’1âˆ’â†’M q1
iff q0
w10iâˆ’1âˆ’â†’ M q1
Thus, M accepts or rejects both w00
iâˆ’1 and w10iâˆ’1. Contradiction!
8
