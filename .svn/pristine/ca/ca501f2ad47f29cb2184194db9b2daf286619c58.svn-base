Today’s announcements: 
MP5 available, due 11/1, 11:59p 
Parallel Lab update: Lab Race due 11/6  
 
Code Challenge #2: 10/30 9PM in 0224 
Exam 2: 11/5, 7-10p, locations on website.  
Class cancelled 11/4. 
Exam reviews: 11/4, 12-2p in Siebel 1404 
      11/4, 2-3 in Siebel 0216 
 
hash 
function 
A perfect hash function: 
0 
1 
2 
3 
4 
5 
6 
7 
(Ann, black cat) 
(Ben, HP) 
(Cory, spy) 
(David, bball player) 
(Ellen, butterfly) 
(Finn, cereal killer) 
(Gus, ghost) 
(Harmony, bee) 
A contrived example: 
these keys have a fabulous hash fn. 
   a. each key hashes to a different int 
   b. collection of keys hash to a seq of ints 
A perfect hash function? 
0 
1 
2 
3 
4 
5 
6 
7 
8 
9 
10 
11 
12 
13 
14 
15 
16 
17 
Is this a good hash function? 
Roll 4 dice: 
Collisions: 
A Hash Table consists of: 
 
•An array 
 
 
•A hash function 
 
 
•A collision resolution strategy 
Hash Functions: 
 
• Consist of 2 parts: 
– A Hash:  Function mapping a key to an integer i 
– A compression:  function mapping i into the array cells 0 to N-1. 
 
• SUHA:  
 
 
• Choosing a hash function is tricky... 
– Don’t create your own (yet) 
– Smart people can produce poor hash functions (what’s a bad hash function?) 
• Knuth’s multiplicative hash in “the Art of Computer Programming” 
 
• What IS a bad hash function? 
Hash Functions 
KeySpace 
0 1 … N-1 
KeySpace 
keys used: 
0 1 … N-1 
Easy, if 
|KeySpace| ~ N 
Hash Functions - why are general purpose hash functions so hard to create? 
OBS1:  If your keyspace is small, and known, then you can create a custom hash function that 
behaves well. 
OBS2:  If the distribution of your samples over the keyspace is known, then you can probably 
make a hash fn that behaves well. 
BUT: 
KeySpace 
0 1 … N-1 
0 1 … N-1 
0 1 … N-1 
NOT: 
Typical approach:  “randomize” the key via bit scrambling and then take a subset 
of the scrambled bits.  
Hashing Strings (an example) 
Given:  8 character strings are easy to hash 
The idea:  Select 8 random positions from long strings and hash that substring. 
A bunch of strings: 
Lookyhere, Huck, being rich ain't going  
No! Oh, good-licks; are you in real dead 
Just as dead earnest as I'm sitting here 
nto the gang if you ain't respectable, y 
Can't let me in, Tom? Didn't you let me  
Yes, but that's different. A robber is m 
irate is -- as a general thing. In most  
Now, Tom, hain't you always ben friendly 
ut, would you, Tom? You wouldn't do that 
Huck, I wouldn't want to, and I DON'T wa 
ay? Why, they'd say, 'Mph! Tom Sawyer's  
t!' They'd mean you, Huck. You wouldn't  
uck was silent for some time, engaged in 
Well, I'll go back to the widder for a m 
can come to stand it, if you'll let me  
All right, Huck, it's a whiz! Come along 
Will you, Tom -- now will you? That's go 
he roughest things, I'll smoke private a 
hrough or bust. When you going to start  
Hashing Strings (an example) 
Given:  8 character strings are easy to hash 
The idea:  Select 8 random positions from long strings and hash that substring. 
A bunch of strings: 
http://en.wikipedia.org/wiki/Le%C5%9Bna_Grobla 
http://en.wikipedia.org/wiki/Blow_the_Man_Down 
http://en.wikipedia.org/wiki/Swen_K%C3%B6nig 
http://en.wikipedia.org/wiki/2/7th_Cavalry_Commando_Regiment_(Australia) 
http://en.wikipedia.org/wiki/Salman_Ebrahim_Mohamed_Ali_Al_Khalifa 
http://en.wikipedia.org/wiki/Alice_High_School 
http://en.wikipedia.org/wiki/Beautiful,_Dirty,_Rich 
http://en.wikipedia.org/wiki/RFA_Sir_Bedivere_(L3004) 
http://en.wikipedia.org/wiki/Birthright_(band) 
http://en.wikipedia.org/wiki/Jacky_Vimond 
http://en.wikipedia.org/wiki/Vachon 
http://en.wikipedia.org/wiki/McCarthy_%26_Stone 
http://en.wikipedia.org/wiki/Salisbury,_New_Hampshire 
http://en.wikipedia.org/wiki/A_Line_of_Deathless_Kings 
http://en.wikipedia.org/wiki/Newfoundland_Irish 
http://en.wikipedia.org/wiki/Beatrice_Politi 
http://en.wikipedia.org/wiki/Bona_Sijabat 
http://en.wikipedia.org/wiki/Sour_sanding 
http://en.wikipedia.org/wiki/Dr_Manmohan_Singh_Scholarship 
Hash Functions: 
 
• Computed in ________ time. 
 
 
 
• Deterministic. 
 
 
 
• Satisfy the SUHA. 
