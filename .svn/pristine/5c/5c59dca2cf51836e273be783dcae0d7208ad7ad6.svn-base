MP8, HTTP, and DNS 
CS 241 
Nov 20, 2013 
MP8 Overview 
• Goal: Build a simple HTTP web server. 
Your “MP8 Server” Firefox 
Chrome 
wget 
Web Browsers 
Working with HTTP 
• On Monday, we looked at HTTP packets… 
 
HTTP/1.1 200 OK 
Content-Length: 23774 
Content-Type: text/html 
Server: Microsoft-IIS/7.5 
Set-Cookie: ASPSESSIONIDAEEESRAB=PN[...] 
X—Powered-By: ASP.NET 
Date: Mon, 15 Apr 2013[...] 
Connection: close 
 
[23.22 KB of HTML] 
 
 
 
 
Reading the HTTP Header 
HTTP Considerations 
• Data that comes in HTTP packets: 
– Web pages 
– Images 
– Your downloads 
– Buffered video (usually non live streaming) 
 
• How do you deal with binary data? 
DNS 
• DNS (Domain Name System) translates 
domain names to IP addresses. 
–    illinois.edu     128.174.180.122 
–    cs.illinois.edu      130.126.112.3 
 
• DNS works through a hierarchical lookup 
based on the fully qualified domain name 
(FQDN). 
– FQDN:   www.illinois.edu. 
DNS 
• First step: ., a root name server 
– As of Feb. 2013, a total of 13 root name servers. 
• A: 198.41.0.4,  B: 192.228.79.201, C: 192.33.4.12, … 
• These IP address are fixed and almost never change! 
 
– Responsible for maintaining a list of the DNS 
servers for all 20 top-level domains (TLDs) and 248 
country code TLDs. 
• Ex: .com, .co.uk, etc 
 
– DNS Request: Where can I find edu ? 
• Response: Try 174.45.186.2  
DNS 
• Next: edu., a TLD name server 
– Responsible for maintaining a list of the DNS 
servers for all edu domains. 
 
– DNS Request: Where can I find illinois.edu ? 
 
• Next: illinois.edu., a TLD name server 
– DNS Request: Where can I find www.illinois.edu ? 
• Its IP address is: 128.174.180.122 
 
DNS Caching 
• If a lookup was required for every request: 
– RTT: .    ask “edu.” 
– RTT: edu.    ask “illinois.edu.” 
– RTT: illinois.edu.     IP is “128.174.180.122” 
– 3x RTT before we can send the HTTP Request 
 
DNS Caching 
• Solution: DNS Resolvers 
– Idea: Have DNS records cached at various logical 
hops. 
• First cache: Your computer 
• Next cache: Your ISP 
• Next cache: Your ISP’s backbone provider 
 
– These sources are known as “non-authoritative”, 
as they are not part of the official name servers. 
 
DNS Resolvers 
IPv4 Address Exhaustion 
• Problem: IPv4 addresses are running out 
 
Source: http://en.wikipedia.org/wiki/File:Ipv4-exhaust.svg 
Network Address Translation 
• One Solution: Network Address Translation 
– Allows multiple IP-enabled devices to connect 
using a single “public IP address”. 
 
PC  (192.168.0.2) 
Laptop  (192.168.0.3) 
iPad  (192.168.0.4) 
Phone  (192.168.0.5) 
 172.54.21.84 
Private Address Public Address 
LAN: “Local Area Internet” 
