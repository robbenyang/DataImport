Information Extraction
Vincent Zheng
The Big Picture: Where We Are
Data Access
Data Modeling
Data/Query Processing
Data Acquisition
Relational NonRelational
St
ru
ct
u
re
d
Se
m
iS
tr
u
ct
u
re
d
Transaction Management
N
o
SQ
L 
D
at
ab
as
es
X
M
L 
D
at
ab
as
es
U
n
tr
u
ct
u
re
d
Relational Databases
• SQL
• Relational Algebra
• Query Optimization
• Query Execution
• Indexing
• Concurrency Control
• Logging Recovery
Database Systems Toolkits
M
ap
 R
ed
u
ce
(P
ar
al
le
l)
St
o
rm
 
(S
tr
ea
m
)
Information Extraction
ER  Relational Model
Query Language
Default Section (1 of 2)
Information Extraction (1 
of 33)
Concepts You Will Learn
• Different scenarios to populate DB
• Information Extraction (IE)
– Named Entity Recognition (NER)
• Different methods for IE with unstructured data
– Hard-coded methods
– Learning-based methods
• Logistic regression
• Conditional Random Fields (CRF)
Default Section (2 of 2)
Information Extraction (1 
of 31)
WHY DO WE LEARN THIS?
Why Do We Learn This? (0 of 4) 4
You guys are doing a lot of interesting 
DB-supported projects
Why Do We Learn This? (1 of 4) 5
Image from http://godatabase.net/tag/database-applications
How do you populate this DB?
Various Ways to Populate DB
• Someone edits it • Crawl from the Web
Why Do We Learn This? (2 of 4) 6
Image from http://www.joelonsoftware.com/
Joel is now 23 years old, 
male, …
Micah is 39, male ..
Information Extraction As Data Acquisition
Why Do We Learn This? (3 of 4) 7
Joel is now 23 years old, 
male, …
Micah is 39, male ..
Joel is now 23 years old, 
male, …
Micah is 39, male ..
Joel is now 23 years old, 
male, …
Micah is 39, male ..
Joel is now 23 years old, 
male, …
Micah is 39, male ..
Image from www.homozygositymapper.org
Unstructured source: 
e.g., free text
Structured/Semi-structured source: 
e.g., Web pages from a single site
Overview
• Focus of this lecture
– IE from unstructured free text
– Named Entity Recognition as an example
• Focus of next lecture
– IE from structured/semi-structured Web pages
Why Do We Learn This? (4 of 4) 8
NER EXAMPLE
NER Example (0 of 7) 9
Application
• Suppose you want to populate a DB about IT 
company executives for techcrunch
– Given set of IT news Web pages
NER Example (1 of 7) 10
NAME      TITLE   ORGANIZATION
Bill Gates CEO Microsoft
Bill Veghte VP Microsoft
Richard Stallman founder Free Soft..
October 14, 2002, 4:00 a.m. PT
For years, Microsoft Corporation CEO Bill Gates railed 
against the economic philosophy of open-source 
software with Orwellian fervor, denouncing its 
communal licensing as a "cancer" that stifled 
technological innovation.
Today, Microsoft claims to "love" the open-source 
concept, by which software code is made public to 
encourage improvement and development by outside
October 14, 2002, 4:00 a.m. PT
For years, Microsoft Corporation CEO Bill Gates railed 
against the economic philosophy of open-source 
software with Orwellian fervor, denouncing its 
communal licensing as a "cancer" that stifled 
technological innovation.
Today, Microsoft claims to "love" the open-source 
concept, by which software code is ade public to 
encourage improvement and development by outside
October 14, 2002, 4:00 a.m. PT
For years, Microsoft Corporation CEO Bill Gates railed 
against the economic philosophy of open-source 
software with Orwellian fervor, denouncing its 
communal licensing as a "cancer" that stifled 
technological innovation.
Today, Microsoft claims to "love" the open-source 
concept, by which software code is ade public to 
encourage improvement and development by outside
October 14, 2002, 4:00 a.m. PT
For years, Microsoft Corporation CEO Bill Gates railed 
against the economic philosophy of open-source 
software with Orwellian fervor, denouncing its 
communal licensing as a "cancer" that stifled 
technological innovation.
Today, Microsoft claims to "love" the open-source 
concept, by which software code is ade public to 
encourage improvement and development by outside
IE from Unstructured Free Text
Information Extraction =
segmentation + classification
As a family
of techniques:
October 14, 2002, 4:00 a.m. PT
For years, Microsoft Corporation CEO Bill Gates railed 
against the economic philosophy of open-source 
software with Orwellian fervor, denouncing its 
communal licensing as a "cancer" that stifled 
technological innovation.
Today, Microsoft claims to "love" the open-source 
concept, by which software code is made public to 
encourage improvement and development by outside 
programmers. Gates himself says Microsoft will gladly 
disclose its crown jewels--the coveted code behind the 
Windows operating system--to select customers.
"We can be open source. We love the concept of 
shared source," said Bill Veghte, a Microsoft VP. 
"That's a super-important shift for us in terms of code 
access.“
Richard Stallman, founder of the Free Software 
Foundation, countered saying…
Microsoft Corporation
CEO
Bill Gates
Microsoft
Gates
Microsoft
Bill Veghte
Microsoft
VP
Richard Stallman
founder
Free Software Foundation
*
*
*
*
From William Cohen, KDD’03 tutorial
Information Integration =
association + clustering
NER Example (2 of 7) 11
<ORG, RELATION, PERSON>
Named Entity Recognition (NER) 
As An Example
• Input:
Fred Flintstone was named CTO of Time Bank Inc. in 2031. 
The next year he got married and became CEO of Dinosaur 
Savings & Loan.
• Output:
[Fred Flintstone]PERSON was named CTO of [Time Bank Inc.]ORG
in 2031. The next year he got married and became CEO of 
[Dinosaur Savings & Loan]ORG.
NER Example (3 of 7) 12
Omit RELATION for now
How to Recognize A PERSON Field?
[Fred Flintstone]PERSON was named CTO of [Time 
Bank Inc.]ORG in 2031. The next year he got married and 
became CEO of [Dinosaur Savings & Loan]ORG.
NER Example (4 of 7) 13
A Hard-coded Sample Code
Function RecognizePERSON(String s)
n = s.length;
for i = 1 to n
xi = ReadFromInput(s, i);
if (xi is a common first name 
&& xi is followed by a capitalized token)
output yi <- PERSON
else if (xi is a capitalized token 
&& xi is preceded by a common first name)
output yi <- PERSON
else 
output yi <- OTHERS
end
end
NER Example (5 of 7) 14
[Fred Flintstone]PERSON was 
named CTO of [Time Bank Inc.]ORG in 
2031. The next year he got married 
and became CEO of [Dinosaur 
Savings & Loan]ORG.
What If …
• Input 1:
Mr. Superman Flintstone was named CTO of Time Bank Inc. in 
2031. The next year he got married and became CEO of Dinosaur 
Savings & Loan.
• Input 2:
Fred Inc. is a financial consulting firm, based in Chicago, Illinois.
• Input 3:
Mr. Fred J. Flintstone was named CTO of Time Bank Inc. 
in 2031. The next year he got married and became CEO 
of Dinosaur Savings & Loan.
NER Example (6 of 7) 15
Hard-coded Method
• Various rules to recognize PERSON
– Rule R1: [ common_first_name capitalized_token]PERSON
– Rule R2: Title [ capitalized_token + ]PERSON
– …
• There are multiple rules
– Combine them in a systematic way: R1 * 2 + R2 * 1
• Rules are not always correct
– Probabilistic output: Pr(Fred Inc. = PERSON) = 0.3
NER Example (7 of 7) 16
LEARNING-BASED METHODS
Learning-based Methods (0 of 6) 17
Overview
Learning-based Methods (1 of 6) 18
Model
M: X -> Y
Labeled training data 
(annotated examples <x, y>)
Test data
(un-annotated x)
Prediction
(annotated <x, y>)
Rule set
training testing
There are multiple rules
• Labeled data can tell us how important each rule is
For years, [Microsoft Corporation]ORG CEO [Bill Gates]PERSON railed 
against the economic philosophy of open-source software, …
[Gates]PERSON himself says [Microsoft]ORG will gladly disclose its crown 
jewels--the coveted code behind the Windows operating system--to 
select customers.
"We can be open source. We love the concept of shared source," 
said [Bill Veghte]PERSON, a [Microsoft]ORG VP. 
[Richard Stallman]PERSON, founder of the [Free Software 
Foundation]ORG, countered saying …
Learning-based Methods (2 of 6) 19
Rules are not always correct
• Each rule contributes some score
Learning-based Methods (3 of 6) 20
Fred Flintstone   was named CTO of   Time Bank Inc.   in 2031. The next 
year he got married and became CEO of   Dinosaur Savings & Loan.
R1 R2 …
Fred
PERSON
Formalized Problem
• Let’s introduce some notations
Learning-based Methods (4 of 6) 21
Fred Flintstone   was named CTO of   Time Bank Inc.   in 2031. The next 
year he got married and became CEO of   Dinosaur Savings & Loan.
Fred
PERSON PERSON
was
OTHERS OTHERS
Flintstone named
OTHERS
named
……
x1
y1
x2
y2
x3
y3
x4
y4
xn
yn
Label and Feature
• Each xi corresponds to some field name yi
– It is called “label” (e.g., PERSON, ORG, etc.)
• There are different rules applied to each xi
– They can be also called as “features”
– Formally, a feature is an individual measurable heuristic 
property of a phenomenon being observed [from Wiki]
– E.g., we can define binary features such as:
Learning-based Methods (5 of 6) 22
f1(xi, yi ) =
1
0
ì
í
î
Many interesting ways to do it
Decision Tree Support Vector Machine
And so on …
Images from Wikipedia
Learning-based Methods (6 of 6) 23
CONDITIONAL RANDOM FIELDS
Conditional Random Fields (0 of 10) 24
Overview
• Conditional Random Fields (CRF)
– Are a class of statistical modeling model
• It can generate probabilistic output
• Pr(Fred Inc. = PERSON) = 0.3
– Take an exponential form 
• Probability is in the exponential family
– Used for structured prediction
• Not just single sample, but also context
Conditional Random Fields (1 of 10) 25
Let’s start with a simple case
• Since each feature contributes to prediction
Fred Flintstone   was named CTO of   Time Bank Inc.   in 2031. The next 
year he got married and became CEO of   Dinosaur Savings & Loan.
f1 f2 f3
λ1
λ2
λ3
PERSON
s(x, y = y ') = exp li fi (x, y ')
i=1
3
å
ì
í
î
ü
ý
þ
Score: 
Normalize to get probability: 
Why not just define s as the sum instead of exponential sum?
Conditional Random Fields (2 of 10) 26
Logistic Regression
• Maximize the likelihood
f1 f2 f3
λ1
λ2
λ3
PERSON
s(x, y = y ')= exp lk fk (x, y ')
k=1
K
å
ì
í
î
ü
ý
þ
Score: 
Normalize to get probability: 
Objective function:
l* = argmax
l
P(yi | xi;l)
i=1
n
Õ
Conditional Random Fields (3 of 10) 27
Sequential Information
• Since what we try to extract is a sequence
Fred Flintstone was named CTO of   Time Bank Inc.   in 2031. The 
next year he got married and became CEO of   Dinosaur Savings & Loan.
f1 f2 f3
λ1
λ2
λ3
PERSON
f1 f2 f3
λ1
λ2
λ3
OTHERS
λ4
Conditional Random Fields (4 of 10) 28
Incorporate Sequential Information
s(x, y = y ') = exp lk fk (x1, y1)
k=1
3
å
ì
í
î
ü
ý
þ
exp lk fk (x2, y2 )
k=1
3
å
ì
í
î
ü
ý
þ
exp l4 f4 (x1, x2, y1, y2 ){ }
Score: 
Normalize to get probability: 
f1 f2 f3
λ1
λ2
λ3
PERSON
f1 f2 f3
λ1
λ2
λ3
OTHERS
λ4
Conditional Random Fields (5 of 10) 29
Linear-chain CRF
• Maximize the likelihood
f
λ
PERSON
f
λ
PERSON
λ’
f
λ
ORG
λ’
s(x,y = y ') = exp lk fk (xi, yi )
k=1
K
å
ì
í
î
ü
ý
þi=1
n
Õ ×
exp l 'k fk (xi, yi, xi+1, yi+1)
k=1
K '
å
ì
í
î
ü
ý
þi=1
n-1
Õ
Score: 
Normalize to get probability: 
Objective function:
l* = argmax
l
P(y | x;l)
Conditional Random Fields (6 of 10) 30
Even More: Long-distance Information
• Since there can be some duplicates distantly
Fred Flintstone   was named CTO of   Time Bank Inc.   in 2031. The next 
year   Fred got married and became CEO of   Dinosaur Savings & Loan.
Fred
λ
PERSON
λ
PERSON
λ’
Fred
λ
PERSON
got
λ
OTHERS
λ’
Loan
λ
ORG
λ’
Flintstone
λ’’
Conditional Random Fields (7 of 10) 31
Inference for Logistic Regression
• Find the most likely label for each token
Conditional Random Fields (8 of 10) 32
Flintstone
P(y = PERSON | x = Flintstone)µ exp lk
* fk (Flintstone,PERSON )
k=1
K
å
ì
í
î
ü
ý
þ
...
P(y =OTHERS | x = Flintstone)µ exp lk
* fk (Flintstone,OTHERS)
k=1
K
å
ì
í
î
ü
ý
þ
ì
í
ï
ï
ï
î
ï
ï
ï
Fred Flintstone was named CTO of   Time Bank Inc.   in 2031. The next 
year he got married and became CEO of   Dinosaur Savings & Loan.
Inference for CRF
• Find the most likely label for all the tokens together
Conditional Random Fields (9 of 10) 33
Fred Flintstone was named CTO of   Time Bank Inc.   in 2031. The next 
year he got married and became CEO of   Dinosaur Savings & Loan.
P(y = PERSON | x = Flintstone,x, y)µexp lk
* fk (Flintstone,PERSON,x, y)
k=1
K
å
ì
í
î
ü
ý
þ
...
P(y =OTHERS | x = Flintstone,x, y)µexp lk
* fk (Flintstone,OTHERS,x, y)
k=1
K
å
ì
í
î
ü
ý
þ
ì
í
ï
ï
ï
î
ï
ï
ï
Forward:
Backward:
s(y = PERSON | x = Flintstone,xbefore, ybefore )
s(y = PERSON | x = Flintstone,xafter,yafter )
Dynamic Programming
Algorithm
Summary
• Different scenarios to populate the DB
• IE from the free text
• Hard-coded method
• Learning-based method
– Logistic regression
– Conditional Random Fields
Conditional Random Fields (10 of 10) 34

